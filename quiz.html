<!-- quiz.html -->
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ø§Ø®ØªØ¨Ø§Ø± ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¹Ù…Ø±</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h2>ğŸ§  Ø­Ø¯Ø¯ Ø¹Ù…Ø±Ùƒ Ù…Ù† Ø®Ù„Ø§Ù„ Ù‡Ø°Ø§ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h2>
    <div id="quizArea"></div>
    <div id="result" class="hidden"></div>
  </div>

  <script>
    const questions = [
      { q: "Ø£ÙŠ Ù…Ù† Ù‡Ø°Ù‡ ÙƒØ±Ø©ØŸ", options: ["ğŸ", "âš½", "ğŸ“˜"], correct: "âš½", age: 3 },
      { q: "Ù…Ø§ Ø§Ù„Ø±Ù‚Ù… Ø¨Ø¹Ø¯ 3ØŸ", options: ["4", "5", "2"], correct: "4", age: 5 },
      { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„Ù…Ø«Ù„Ø«ØŸ", options: ["â¬œï¸", "ğŸ”º", "âšª"], correct: "ğŸ”º", age: 6 },
      { q: "5 + 2 = ØŸ", options: ["6", "7", "8"], correct: "7", age: 8 },
      { q: "Ø£ÙŠ Ù…Ù† Ù‡Ø°Ù‡ Ø­ÙŠÙˆØ§Ù†ØŸ", options: ["ğŸ", "ğŸ¶", "ğŸ§ƒ"], correct: "ğŸ¶", age: 5 },
      { q: "Ù…Ø§ Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„ØªÙŠ ØªØ¨Ø¯Ø£ Ø¨Ø­Ø±Ù 'Ø¨'ØŸ", options: ["ØªÙØ§Ø­Ø©", "Ø¨Ø§Ù„ÙˆÙ†", "Ù…ÙˆØ²"], correct: "Ø¨Ø§Ù„ÙˆÙ†", age: 6 },
      { q: "3 Ã— 3 = ØŸ", options: ["6", "9", "12"], correct: "9", age: 9 },
      { q: "Ù…Ø§ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„ØªÙŠ ØªØ¯Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø²Ù†ØŸ", options: ["ğŸ˜Š", "ğŸ˜¢", "ğŸ˜‚"], correct: "ğŸ˜¢", age: 7 },
      { q: "Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© ÙÙ„Ø³Ø·ÙŠÙ†ØŸ", options: ["Ø§Ù„Ù‚Ø¯Ø³", "Ø±Ø§Ù… Ø§Ù„Ù„Ù‡", "Ù†Ø§Ø¨Ù„Ø³"], correct: "Ø§Ù„Ù‚Ø¯Ø³", age: 10 },
      { q: "Ù…Ø§ Ù†Ø§ØªØ¬ 12 Ã· 4 ØŸ", options: ["2", "3", "4"], correct: "3", age: 11 },
      { q: "Ø£ÙŠ Ù…Ù† Ù‡Ø°Ù‡ Ø£Ø¯Ø§Ø© Ù…ÙˆØ³ÙŠÙ‚ÙŠØ©ØŸ", options: ["ğŸ¥", "ğŸ”", "ğŸš—"], correct: "ğŸ¥", age: 11 },
      { q: "Ù…Ø§ Ù…Ø¹Ù†Ù‰ ÙƒÙ„Ù…Ø© 'Ø­Ø±ÙŠØ©'ØŸ", options: ["Ù„Ø¹Ø¨Ø©", "Ø§Ø³ØªÙ‚Ù„Ø§Ù„", "ÙˆÙ‚Øª ÙØ±Ø§Øº"], correct: "Ø§Ø³ØªÙ‚Ù„Ø§Ù„", age: 12 },
      { q: "ÙƒÙ… Ø¹Ø¯Ø¯ Ù‚Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ", options: ["5", "6", "7"], correct: "7", age: 13 }
    ];

    let step = 0;
    let correctAnswers = [];

    function renderQuestion() {
      const q = questions[step];
      document.getElementById("quizArea").innerHTML = `
        <p><strong>${q.q}</strong></p>
        ${q.options.map(opt => `<button onclick="select('${opt}')">${opt}</button>`).join("")}
      `;
    }

    function select(ans) {
      const q = questions[step];
      if (ans === q.correct) {
        correctAnswers.push(q.age);
      }
      step++;
      if (step < questions.length) {
        renderQuestion();
      } else {
        let estimatedAge;
        if (correctAnswers.length === 0) {
          estimatedAge = 3;
        } else {
          const maxAge = Math.max(...correctAnswers);
          const avgAge = Math.round(correctAnswers.reduce((a, b) => a + b, 0) / correctAnswers.length);
          estimatedAge = Math.round((maxAge + avgAge) / 2);
        }

        localStorage.setItem("child_age", estimatedAge);
        window.location.href = "games.html";
      }
    }

    renderQuestion();
  </script>
</body>
</html>
